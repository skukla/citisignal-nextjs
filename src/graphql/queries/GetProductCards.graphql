# Query for product cards using our custom mesh query
# Returns canonically formatted data ready for display
# Uses simplified product card schema without configurable options or variants
# Colors are provided as visual indicators only (non-interactive)

query GetProductCards(
  $phrase: String
  $filter: Citisignal_ProductFilter
  $sort: Citisignal_SortInput
  $limit: Int = 20
  $page: Int = 1
) {
  Citisignal_productCards(
    phrase: $phrase
    filter: $filter
    sort: $sort
    limit: $limit
    page: $page
  ) {
    items {
      id
      sku
      urlKey
      name
      manufacturer
      price # Formatted "$999.99"
      originalPrice # Only when on sale
      discountPercent
      inStock
      image {
        url
        altText
      }
      memory
      # Color data for visual indicators (non-interactive)
      colors {
        name
        hex
      }
    }
    totalCount
    hasMoreItems
    currentPage
  }
}
