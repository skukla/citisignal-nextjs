# Original query - Direct Adobe Commerce Catalog Service structure
# This shows the query structure before mesh enhancements
# Endpoint: https://catalog-service-sandbox.adobe.io/graphql

query GetAllPhonesOriginal($pageSize: Int = 20, $currentPage: Int = 1) {
  productSearch(
    phrase: ""
    filter: [{ attribute: "categories", eq: "phones" }]
    page_size: $pageSize
    current_page: $currentPage
  ) {
    total_count
    items {
      productView {
        __typename
        id
        name
        sku
        url
        urlKey
        description
        shortDescription
        
        # Images
        images {
          url
          label
          roles
        }
        
        # Custom attributes (includes cs_manufacturer, etc.)
        attributes {
          name
          label
          value
        }
        
        ... on ComplexProductView {
          # Price range for configurable products
          priceRange {
            minimum {
              regular {
                amount {
                  value
                  currency
                }
              }
              final {
                amount {
                  value
                  currency
                }
              }
            }
          }
          
          # Options including color swatches and memory sizes
          options {
            id
            title
            required
            values {
              id
              title
              ... on ProductViewOptionValueSwatch {
                type
                value  # Hex color value for color swatches
              }
            }
          }
        }
        
        ... on SimpleProductView {
          # Simple product pricing
          price {
            regular {
              amount {
                value
                currency
              }
            }
            final {
              amount {
                value
                currency
              }
            }
          }
        }
      }
    }
    page_info {
      current_page
      page_size
      total_pages
    }
  }
}